# Mechanic Kit简介

从API version 20开始，支持使用机械设备管理。随着智能设备的快速发展，手机与云台、机械臂等三方配件设备之间的交互需求日益增长，但当前缺乏统一、完整的连接和控制解决方案。为了解决这一问题，现在提供 MechanicKit（机械设备管理套件），为开发者提供了完整的三方配件集成解决方案。

MechanicKit 通过 `mechanicManager` 模块，实现了设备连接管理、智能追踪和状态监控的一体化服务，支持智能追踪<!--Del-->、精准控制<!--DelEnd-->等核心能力，让开发者能够轻松构建高质量的设备交互应用。

机械设备管理模块支持对连接的机械设备进行控制和交互，包括连接管理、控制和监控。

## 场景介绍

机械设备管理主要面向云台、机械臂等智能机械体配件设备的交互控制场景：

- **智能拍摄辅助**：通过机械体配件设备实现人脸跟踪、物体追踪等自动化拍摄功能，提升拍摄质量和用户体验。
- **拍摄控制**：手机作为控制终端，操控云台或机械臂等机械体配件设备进行精准的角度调整和运动轨迹控制。

通过 MechanicKit 提供的设备连接、智能跟踪和精准控制能力，开发者可以快速构建控制机械配件设备的应用。

## 能力范围

MechanicKit 机械设备管理模块为开发者提供了全面的机械设备操控能力，主要包括以下核心功能：

### 设备连接管理

- **设备发现**：获取当前连接的机械设备列表，支持云台等多种机械体配件设备类型。
- **连接状态监听**：实时监听设备连接和断开状态变化。
- **设备信息查询**：获取设备ID、名称、类型等基本信息。

### 智能跟踪控制

- **摄像头跟踪开关**：启用或禁用摄像头智能跟踪功能。
- **跟踪布局设置**：支持默认、左侧、中间、右侧四种跟踪布局模式。
- **跟踪状态监听**：监听用户操作和布局变化等跟踪事件。

<!--Del-->
### 精准设备操控

- **相对角度旋转**：基于当前位置进行相对角度旋转控制。
- **绝对角度旋转**：按照绝对欧拉角进行旋转控制。
- **运动停止控制**：立即停止设备的所有运动操作。
<!--DelEnd-->

### 设备状态监控

- **当前角度查询**：实时获取设备在三个轴向的当前角度。
- **旋转限制查询**：获取设备在各轴向的最大旋转范围。
- **旋转轴状态监听**：监听各旋转轴的启用状态和限制情况。
- **运动参数查询**：获取最大旋转速度和连续旋转时间。

## 运作机制

![原理图](figures/guide_mechanic.png)

## 约束限制

在使用机械设备管理能力前，需要满足以下条件：

- **设备连接要求**：开发设备必须与机械体配件设备建立连接，确保通信链路正常。
- **协议兼容性**：机械体配件设备需要支持 MechanicKit 协议，以保证指令传输和状态反馈的准确性。
- **相机权限**：前台应用需要获得相机使用权限，用于支持智能追踪等视觉相关功能。
- **系统权限**：某些高级功能（如转动控制）需要系统应用权限。
- **硬件限制**：操作范围受限于机械体配件设备的运动限位。

> **说明**：
>
> 请确保在调用相关接口前完成上述条件检查，以避免功能异常。
